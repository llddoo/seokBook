<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sb.s1.member.membercart.MembercartDAO">
	<select id="getCartList" parameterType="Pager" resultType="MembercartDTO">
		select mc.cartnum, mc.id, mc.isbn, mc.bookcount 
		from (select rownum r, c.* from membercart c where id = #{search}) mc 
		where r between #{startRow} and #{endRow} order by cartnum asc
	</select>
	<select id="getTotalCount" parameterType="Pager" resultType="Long">
		select count(cartnum) where id=#{search}
	</select>
	<insert id="addCart" parameterType="MembercartDTO">
		Insert into membercart values(MC_CN_SEQ.nextval, #{bookcount}, #{id}, #{isbn})
	</insert>
	<delete id="delItem" parameterType="MembercartDTO">
		Delete from membercart where cartnum=#{cartnum}
	</delete>
	<delete id="delCartAfterCash" parameterType="MembercartDTO">
		Delete from membercart where id=#{id}
	</delete>
</mapper>